<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${title}">Atjaunināt Mācību Rezultātu</title>
</head>
<body>
    <h1 th:text="${title}">Atjaunināt Mācību Rezultātu</h1>

    <form method="get">
        <label for="lang">Select language:</label>
        <select id="lang" name="lang" onchange="this.form.submit()">
            <option th:each="entry : ${languages}"
                    th:value="${entry.key}"
                    th:text="${entry.value}"
                    th:selected="${currentLanguage == entry.key}"> 
            </option>
        </select>
    </form>

    <form th:action="@{'/crud/maciburezultati/update/' + ${rezultats.mrId}}" 
          th:object="${rezultats}" 
          method="post">
        
        <div>
            <label th:text="${label_rezultata_id} + ':'">Rezultāta ID:</label>
            <input type="text" th:value="${rezultats.mrId}" disabled />
        </div>

        <div>
            <label th:text="${label_kursa_id} + ':'">Kursa ID:</label>
            <input type="number" 
                   th:field="*{kurss.kId}" 
                   readonly 
                   required />
            <p th:if="${#fields.hasErrors('kurss')}" 
               th:errors="*{kurss}"
               th:text="${error_kursa}">Kursa kļūda</p>
        </div>

        <div>
            <label th:text="${label_kursa_nosaukums} + ':'">Kursa Nosaukums:</label>
            <span th:text="${rezultats.kurss.nosaukums}"></span>
        </div>

        <div>
            <label th:text="${label_stundas} + ':'">Stundas:</label>
            <span th:text="${rezultats.kurss.stundas}"></span>
        </div>

        <div>
            <label th:text="${label_limenis} + ':'">Līmenis:</label>
            <span th:text="${rezultats.kurss.limenis}"></span>
        </div>

        <div>
            <label for="macibuRezultats" th:text="${label_macibu_rezultats} + ':'">Mācību Rezultāts (Iziets):</label>
            <input type="checkbox" 
                   id="macibuRezultats" 
                   th:field="*{macibuRezultats}" />
            <span th:text="${text_iziets_info}">Atzīmēt, ja kurss ir sekmīgi pabeigts</span>
        </div>

        <div>
            <button type="submit" th:text="${button_save}">Saglabāt izmaiņas</button>
            <a th:href="@{/crud/maciburezultati/show/all}" th:text="${button_cancel}">Atcelt</a>
        </div>
    </form>

</body>
</html>